<!doctype html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>8th Wall Web: A-FRAME Image Targets</title>
  <link rel="stylesheet" type="text/css" href="index.css">

  <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
  <script src="//cdn.8thwall.com/web/aframe/8frame-1.0.3.min.js"></script>

  <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/xrextras -->
  <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

  <!-- 8thWall Web - Replace the app key here with your own app key -->
  <script async src="https://apps.8thwall.com/xrweb?appKey=4f8vIlCTr14W7UeeF5LXxPLUM0o5deUjwIFcqmHN7jI7JK66LZj7xf5WjslpfbDXEJ3hHr"></script>


  <!-- client code -->
  <script src="index.js"></script>


  <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
</head>

<body>
  <!-- If your app only interacts with image targets and not the world, disabling world tracking can
       improve speed. -->
  <a-scene
    antialias="true"
    xrweb="disableWorldTracking: true"
    xrextras-almost-there
    xrextras-loading
    xrextras-runtime-error
    renderer="antialias: true; physicallyCorrectLights: true;"
    shadow="type:pcfsoft"
    >

    <a-assets>
      <a-asset-item id="frame-glb" src="scaled-scene.gltf"></a-asset-item>
    </a-assets>

    <a-camera position="0 4 10"> </a-camera>

    <a-light type="ambient" intensity="1.3"></a-light>

    <a-entity image-target>

      <a-entity scale=".04 .04 .04">

        <a-entity id="lights" position="0 -9 0" >
          <a-entity light="type: point; intensity: 30; color: white " position="-0 101 20" shadow="cast:true; receive: true;"></a-entity> 
        </a-entity>
        <a-plane position="0 0 0" width="24" height="18" src="image.png" ></a-plane>

        <a-entity id="portal-contents"  scale="41 41 41" position="0 -9 0">
          <a-entity position="0 0 0" gltf-model="#frame-glb" animation-mixer shadow="receive: true; cast:true"></a-entity>
      </a-entity>

      <!-- Add extra lighting to highlight the 3d geometry of the image frame. -->
      <a-light type="directional" intensity="1" target="#frame" position="1.5 0.6 2.5"> </a-light>
    </a-entity>

  </a-scene>
</body>

</html>